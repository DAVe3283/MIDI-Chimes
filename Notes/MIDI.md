# MIDI Messages

## Channels

The MIDI standard has 16 channels, theoretically for up to 16 different devices.
However, multiple devices can share a channel, so... ??

## Programs

MIDI programs are basically instruments. A Program Change message is sent to a
channel, and that channel is now supposed to be that instrument. Or that is what
seems expected in the real world.

# Our Behavior

Officially, we should make the user select a channel (1-16), and only listen to
that channel. Additionally, we would only play notes on that channel if a
program of 0xE (tubular bells) was selected.

However, we can't control/predict how MIDI files will be written. So the
official behavior might end up not playing certain songs at all, or requiring
the user to select the right channel.

So, we can do a couple things:

* Follow the spec
* Listen on all channels for just Tubular Bells
* Listen on one channel for all programs

The options above could be selected as a mode by the user.

## Follow the spec

This would behave as expected in a production / commercial environment. But I
really think this would cause a lot of MIDI files not to play back.

## Listen on all channels for just Tubular Bells

If we add an "All" to the channel selection, this could be a good option. It
follows the spec, unless the user says "ALL". And in that case, it is pretty
clear what will happen, IMO.

I would lean toward this option.

### Tech Details

I would probably need an array of bools for all 16 channels to track if they are
currently configured for Tubular Bells. Because some wanker might use multiple
channels of bells for some reason.

## Listen on one channel for all programs

Upside: This would cause MIDI files not designed for chimes to play.

Downside: This would cause MIDI files not designed for chimes to play.

This is probably a bad enough option it isn't worth implementing.

# MIDI OUT / THRU

I will be using a single combined OUT/THRU port, with behavior selected in
software.

Officially, the MIDI OUT port is for data generated by the chimes. But chimes
don't really generate data.

I am thinking there should be a setting to control if MIDI files played by the
chimes send data to the MIDI OUT port or not.

I guess, fundamentally, I don't know what I want to do with this port yet.
